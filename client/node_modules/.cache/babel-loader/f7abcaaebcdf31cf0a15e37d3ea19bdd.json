{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageQueue = void 0;\n\nclass MessageQueue {\n  constructor() {\n    this.lastReadAt = new Date().getTime();\n    this.messages = [];\n  }\n\n  getLastReadAt() {\n    return this.lastReadAt;\n  }\n\n  addMessage(message) {\n    this.messages.push(message);\n  }\n\n  readMessage() {\n    if (this.messages.length > 0) {\n      this.lastReadAt = new Date().getTime();\n      return this.messages.shift();\n    }\n\n    return undefined;\n  }\n\n  getMessages() {\n    return this.messages;\n  }\n\n}\n\nexports.MessageQueue = MessageQueue;","map":{"version":3,"sources":["/usr/local/lib/node_modules/peer/dist/src/models/messageQueue.js"],"names":["Object","defineProperty","exports","value","MessageQueue","constructor","lastReadAt","Date","getTime","messages","getLastReadAt","addMessage","message","push","readMessage","length","shift","undefined","getMessages"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,YAAR,GAAuB,KAAK,CAA5B;;AACA,MAAMA,YAAN,CAAmB;AACfC,EAAAA,WAAW,GAAG;AACV,SAAKC,UAAL,GAAkB,IAAIC,IAAJ,GAAWC,OAAX,EAAlB;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACH;;AACDC,EAAAA,aAAa,GAAG;AACZ,WAAO,KAAKJ,UAAZ;AACH;;AACDK,EAAAA,UAAU,CAACC,OAAD,EAAU;AAChB,SAAKH,QAAL,CAAcI,IAAd,CAAmBD,OAAnB;AACH;;AACDE,EAAAA,WAAW,GAAG;AACV,QAAI,KAAKL,QAAL,CAAcM,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,WAAKT,UAAL,GAAkB,IAAIC,IAAJ,GAAWC,OAAX,EAAlB;AACA,aAAO,KAAKC,QAAL,CAAcO,KAAd,EAAP;AACH;;AACD,WAAOC,SAAP;AACH;;AACDC,EAAAA,WAAW,GAAG;AACV,WAAO,KAAKT,QAAZ;AACH;;AApBc;;AAsBnBP,OAAO,CAACE,YAAR,GAAuBA,YAAvB","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageQueue = void 0;\nclass MessageQueue {\n    constructor() {\n        this.lastReadAt = new Date().getTime();\n        this.messages = [];\n    }\n    getLastReadAt() {\n        return this.lastReadAt;\n    }\n    addMessage(message) {\n        this.messages.push(message);\n    }\n    readMessage() {\n        if (this.messages.length > 0) {\n            this.lastReadAt = new Date().getTime();\n            return this.messages.shift();\n        }\n        return undefined;\n    }\n    getMessages() {\n        return this.messages;\n    }\n}\nexports.MessageQueue = MessageQueue;\n"]},"metadata":{},"sourceType":"script"}