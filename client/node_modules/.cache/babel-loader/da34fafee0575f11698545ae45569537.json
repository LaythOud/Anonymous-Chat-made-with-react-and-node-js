{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/media/lizard/02d10dea-b08f-45b8-a5ad-a36d5f9f2e04/lizard/WEB/PROJECT/Anonymous-Chat/client/src/Provider/SocketProvider.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useContext, useEffect } from 'react';\nconst SocketContext = /*#__PURE__*/React.createContext();\nexport function useSocket() {\n  _s();\n\n  return useContext(SocketContext);\n}\n\n_s(useSocket, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nexport function SocketProvider({\n  children\n}) {\n  _s2();\n\n  const socket_protocol = window.location.protocol === 'https' ? 'wss' : 'ws';\n  const socket_port = ':5000';\n  const [socket, setSocket] = useState(new WebSocket(socket_protocol + '://' + window.location.hostname + socket_port));\n  useEffect(() => {\n    const socket_protocol = window.location.protocol === 'https' ? 'wss' : 'ws';\n    const socket_port = ':5000';\n    const newsocket = new WebSocket(socket_protocol + '://' + window.location.hostname + socket_port);\n    setSocket(newsocket);\n    return () => newsocket.close();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(SocketContext.Provider, {\n    value: socket,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(SocketProvider, \"X4Nj+JhgjGwNhS9VMA6MOWnAtCs=\");\n\n_c = SocketProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"SocketProvider\");","map":{"version":3,"sources":["/media/lizard/02d10dea-b08f-45b8-a5ad-a36d5f9f2e04/lizard/WEB/PROJECT/Anonymous-Chat/client/src/Provider/SocketProvider.js"],"names":["React","useState","useContext","useEffect","SocketContext","createContext","useSocket","SocketProvider","children","socket_protocol","window","location","protocol","socket_port","socket","setSocket","WebSocket","hostname","newsocket","close"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAiBC,QAAjB,EAA4BC,UAA5B,EAAwCC,SAAxC,QAAwD,OAAxD;AAEA,MAAMC,aAAa,gBAAGJ,KAAK,CAACK,aAAN,EAAtB;AAEA,OAAO,SAASC,SAAT,GAAoB;AAAA;;AACvB,SAAOJ,UAAU,CAACE,aAAD,CAAjB;AACH;;GAFeE,S;;AAIhB,OAAQ,SAASC,cAAT,CAAwB;AAAEC,EAAAA;AAAF,CAAxB,EAAqC;AAAA;;AACzC,QAAMC,eAAe,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,OAA7B,GAAuC,KAAvC,GAA8C,IAAtE;AACA,QAAMC,WAAW,GAAG,OAApB;AACA,QAAM,CAACC,MAAD,EAAUC,SAAV,IAAuBd,QAAQ,CAAE,IAAIe,SAAJ,CAAeP,eAAe,GAAG,KAAlB,GAA0BC,MAAM,CAACC,QAAP,CAAgBM,QAA1C,GAAqDJ,WAApE,CAAF,CAArC;AAEAV,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMM,eAAe,GAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,KAA6B,OAA7B,GAAuC,KAAvC,GAA8C,IAAtE;AACA,UAAMC,WAAW,GAAG,OAApB;AACA,UAAMK,SAAS,GAAI,IAAIF,SAAJ,CAAeP,eAAe,GAAG,KAAlB,GAA0BC,MAAM,CAACC,QAAP,CAAgBM,QAA1C,GAAqDJ,WAApE,CAAnB;AACAE,IAAAA,SAAS,CAACG,SAAD,CAAT;AACA,WAAO,MAAMA,SAAS,CAACC,KAAV,EAAb;AACH,GANQ,EAML,EANK,CAAT;AAQA,sBACI,QAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAEL,MAA/B;AAAA,cACKN;AADL;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH;;IAlBgBD,c;;KAAAA,c","sourcesContent":["import React , { useState , useContext ,useEffect} from 'react'\n\nconst SocketContext = React.createContext()\n\nexport function useSocket(){\n    return useContext(SocketContext)\n}\n\nexport  function SocketProvider({ children}) {\n    const socket_protocol = window.location.protocol === 'https' ? 'wss' :'ws'\n    const socket_port = ':5000'\n    const [socket , setSocket] = useState( new WebSocket( socket_protocol + '://' + window.location.hostname + socket_port))\n    \n    useEffect(()=>{\n        const socket_protocol = window.location.protocol === 'https' ? 'wss' :'ws'\n        const socket_port = ':5000'\n        const newsocket =  new WebSocket( socket_protocol + '://' + window.location.hostname + socket_port)\n        setSocket(newsocket)\n        return () => newsocket.close()\n    } , [] )\n    \n    return (\n        <SocketContext.Provider value={socket}>\n            {children}\n        </SocketContext.Provider>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}